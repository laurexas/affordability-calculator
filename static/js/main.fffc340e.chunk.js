(this.webpackJsonpdanske=this.webpackJsonpdanske||[]).push([[0],[,function(e,a,t){e.exports={table:"DataTable_table__1EqDm",row:"DataTable_row__1rhD4",tableHead:"DataTable_tableHead__1TtKQ",icon:"DataTable_icon__2IZKd",tableData:"DataTable_tableData__21C-r"}},function(e,a,t){e.exports={text_input:"TextInput_text_input__2RzJU",list:"TextInput_list__1djKD",option:"TextInput_option__yRPP_",icon:"TextInput_icon__uJHoR",sm:"TextInput_sm__1mY5w",md:"TextInput_md__3dowK",lg:"TextInput_lg__2uzuP",error:"TextInput_error__3WcZs",primary:"TextInput_primary__36ehH",secondary:"TextInput_secondary__2ZQOD",standard:"TextInput_standard__3-l2i",active:"TextInput_active__9b9JN",grey:"TextInput_grey__2VK-c",outlined:"TextInput_outlined__1Q45H",email:"TextInput_email__WDvWQ",filled:"TextInput_filled__3uhPf"}},,function(e,a,t){e.exports={button:"Button_button__2hZrn",sm:"Button_sm__1tUIU",md:"Button_md__3X3qF",lg:"Button_lg__1yTm0",backdrop:"Button_backdrop__2LxV_",contained:"Button_contained__2F1qp",primary:"Button_primary__1MWCa",secondary:"Button_secondary__17e8S",text:"Button_text__A6obz",spinner:"Button_spinner__1w1kV",outlined:"Button_outlined__UOoMy",disabled:"Button_disabled__-c3c1"}},,,,,function(e,a,t){e.exports={container:"Application_container__1-OTg",wrapper:"Application_wrapper__2ECjG",title:"Application_title__1iysr",break:"Application_break__3IaPp"}},,,function(e,a,t){e.exports={searchbar:"SearchBar_searchbar__2U681",input:"SearchBar_input__1IKfU",btn:"SearchBar_btn__1hwfD"}},function(e,a,t){e.exports={sm:"Icon_sm__1r2Qu",md:"Icon_md__1qUlM",lg:"Icon_lg__XV3qN",primary:"Icon_primary__3OFVJ",secondary:"Icon_secondary__3STaT",dark:"Icon_dark__3TWbD",light:"Icon_light__1XXmV",grey:"Icon_grey__xjqyY"}},,,,,function(e,a,t){e.exports={heading:"Heading_heading__29Y0H"}},function(e,a,t){e.exports=t.p+"static/media/spritesheet.9783f206.svg"},,,,function(e,a,t){e.exports=t(36)},,,,,,,,,,,,function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(11),o=t.n(i),l=t(9),c=t.n(l),s=t(18),u=t.n(s),d=function(e){return r.a.createElement("h2",{onClick:e.onClick,className:[u.a.heading,e.className].join(" ")},e.children)},_=t(12),m=t.n(_),p=t(22),f=t(2),b=t.n(f),v=t(19),y=t.n(v),E=t(13),h=t.n(E),x=function(e){var a=e.icon,t=e.onClick,n=e.disableOutsideClick,i=e.color,o=e.size,l=e.onMouseEnter,c=e.onMouseLeave;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:e.style,onClick:t,onMouseEnter:l,onMouseLeave:c,"data-outsideclick":n?"disabled":"",className:"".concat(e.className," ").concat(h.a.icon," ").concat(h.a[o]," ").concat(h.a[i])},r.a.createElement("use",{xlinkHref:y.a+"#"+a,"data-outsideclick":n?"disabled":""}))};x.defaultProps={size:"md",color:"dark"};var N=x,g=function(e){var a=Object(n.useState)(!1),t=Object(p.a)(a,2),i=t[0],o=t[1],l=Object(n.useRef)(""),c={};e.lowercase&&(c.textTransform="lowercase"),e.capitalize&&(c.textTransform="capitalize"),e.disabled&&(c.background="#d2d2d2");var s=e.type;"string"===e.type&&(s="text");var u=[b.a.text_input,e.error?b.a.error:"",b.a[e.size],b.a[e.color],b.a[e.variant],b.a[e.background],e.className].join(" "),d=e.required?r.a.createElement("span",null," *"):"";return r.a.createElement("div",{className:u,ref:l},e.icon&&r.a.createElement(N,{icon:e.icon,size:e.size,onClick:e.onIconClick,className:b.a.icon,color:"dark"}),r.a.createElement("fieldset",{className:i?b.a.active:""},r.a.createElement("input",{disabled:e.disabled,style:c,className:e.error?b.a.error:null,autoComplete:"off",onChange:e.onChange,name:e.name,id:e.name,onBlur:function(){return o(!1)},onFocus:function(){return o(!0)},placeholder:e.placeholder,value:e.value||"",type:s}),r.a.createElement("legend",{className:i?b.a.active:""},r.a.createElement("label",{htmlFor:e.name,className:i?b.a.active:""},e.error?e.error:e.label,d))))};g.defaultProps={variant:"standard",size:"md",color:"primary",options:{}};var I=g,T=t(4),w=t.n(T),O=function(e){var a=e.loading,t=e.onClick,n=e.disabled,i=[e.className,w.a[e.color],w.a[e.variant],w.a[e.size],w.a.button].join(" ");return r.a.createElement("button",{type:e.type,className:n?i:[w.a.disabled,e.className].join(" "),onClick:n?t:null},a&&r.a.createElement("div",{className:w.a.spinner}),a&&r.a.createElement("div",{className:w.a.backdrop}),e.children)};O.defaultProps={size:"md",variant:"contained",color:"primary"};var k=O,C=t(3),j=t.n(C),D=t(7),P=function(){var e=Object(D.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/person/".concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),S=function(){var e=Object(D.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/affordability/".concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(D.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/exposure/".concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),B=t(5),H=t(8),z=t(10),M={input:"",error:{},valid:!1,loading:!1,data:{person:null,exposure:null,affordability:null}},L=function(e){return e.application},U=function(){var e=Object(B.b)(),a=Object(B.c)(L);return r.a.createElement("div",{className:m.a.searchbar},r.a.createElement(I,{className:m.a.input,variant:"outlined",name:"input",label:"Search",value:a.input,type:"text",onChange:function(a){return e(function(e){var a=e.target,t=a.name,n=a.value;return{type:"ON_INPUT_CHANGE",name:t,value:n,valid:function(e){return!(e.length<1)&&(!(e.length>10)&&!!/^[a-zA-Z0-9]+$/.test(e))}(n)}}(a))},error:a.error.input}),r.a.createElement(k,{loading:a.loading,size:"md",className:m.a.btn,variant:"outlined",onClick:function(){return e(function(){var e=Object(D.a)(j.a.mark((function e(a,t){var n,r,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"APPLICATION_FETCH_LOADING"}),n=t().application.input,e.prev=2,e.next=5,P(n);case 5:return r=e.sent,e.next=8,S(r.affordability_id);case 8:return i=e.sent,e.next=11,A(i.affordability_min.exposure_id);case 11:o=e.sent,a({type:"APPLICATION_FETCH_SUCCESS",affordability:i,person:r,exposure:o}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(a,t){return e.apply(this,arguments)}}())},disabled:a.valid},"Submit"))},F=t(1),q=t.n(F),K=function(){var e=Object(B.c)(L).data;return e.person?r.a.createElement("div",{className:q.a.table},r.a.createElement("div",{className:q.a.row},r.a.createElement("div",{className:q.a.tableHead},r.a.createElement(N,{icon:"dots",className:q.a.icon}),r.a.createElement("span",null,"Name:")),r.a.createElement("div",{className:q.a.tableData},r.a.createElement("span",null,e.person.name))),r.a.createElement("div",{className:q.a.row},r.a.createElement("div",{className:q.a.tableHead},r.a.createElement(N,{icon:"dots",className:q.a.icon}),r.a.createElement("span",null,"Last name:")),r.a.createElement("div",{className:q.a.tableData},r.a.createElement("span",null,e.person.last_name))),r.a.createElement("div",{className:q.a.row},r.a.createElement("div",{className:q.a.tableHead},r.a.createElement(N,{icon:"dots",className:q.a.icon}),r.a.createElement("span",null,"Range:")),r.a.createElement("div",{className:q.a.tableData},r.a.createElement("span",null,e.affordability.affordability_min.value," -"," ",e.affordability.affordability_max.value))),r.a.createElement("div",{className:q.a.row},r.a.createElement("div",{className:q.a.tableHead},r.a.createElement(N,{icon:"dots",className:q.a.icon}),r.a.createElement("span",null,"Exposure:")),r.a.createElement("div",{className:q.a.tableData},r.a.createElement("span",null,e.exposure)))):null},J=function(){return r.a.createElement("div",{className:c.a.container},r.a.createElement("div",{className:c.a.wrapper},r.a.createElement(d,{className:c.a.title},"Affordability calculator")),r.a.createElement("div",{className:c.a.break},":: ::"),r.a.createElement(U,null),r.a.createElement(K,null))};var V=function(){return r.a.createElement("div",null,r.a.createElement(J,null))},W=(t(35),t(6)),G=t(21),R=Object(W.c)({application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ON_INPUT_CHANGE":var t;return Object(z.a)({},e,(t={},Object(H.a)(t,a.name,a.value),Object(H.a)(t,"error",{}),Object(H.a)(t,"valid",a.valid),t));case"APPLICATION_FETCH_LOADING":return Object(z.a)({},e,{loading:!0});case"APPLICATION_FETCH_SUCCESS":var n=a.exposure,r=a.affordability,i=a.person,o=n.values.reduce((function(e,a){return e+a}),0),l=r.affordability_min.value*o;return Object(z.a)({},e,{loading:!1,data:Object(z.a)({},e.data,{affordability:r,person:i,exposure:l}),input:""});default:return e}}}),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||W.d,Q=Object(W.e)(R,X(Object(W.a)(G.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.fetch=function(e){return new Promise((function(a,t){setTimeout((function(){switch(!0){case"person"===e.split("/")[2]:return function(e){var t=[{name:"Daenerys",last_name:"Targaryen",affordability_id:1},{name:"John",last_name:"Snow",affordability_id:2},{name:"Arya",last_name:"Stark",affordability_id:3},{name:"Khal",last_name:"Drogo",affordability_id:4},{name:"Khal",last_name:"Drogo",affordability_id:5},{name:"Theon",last_name:"Greyjoy",affordability_id:6},{name:"Tyrion",last_name:"Lannister",affordability_id:7}][Math.floor(7*Math.random())],n={id:e,name:t.name,last_name:t.last_name,affordability_id:t.affordability_id};a(n)}(e.split("/")[3]);case"affordability"===e.split("/")[2]:return function(){var e=function(){var e=Math.round(10*(6*Math.random()+4+Number.EPSILON))/10;return{min:Math.round(10*(4*Math.random()+1+Number.EPSILON))/10,max:e}}(),t={affordability_max:{value:e.max,exposure_id:1},affordability_min:{value:e.min,exposure_id:2}};a(t)}();case"exposure"===e.split("/")[2]:return function(e){a({id:e,values:[3.4,2,0,-1]})}(e.split("/")[3]);default:return void t({status:400,message:"bad request"})}}),500)}))},o.a.render(r.a.createElement(B.a,{store:Q},r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[23,1,2]]]);
//# sourceMappingURL=main.fffc340e.chunk.js.map